(this.webpackJsonpbingomachine=this.webpackJsonpbingomachine||[]).push([[0],{10:function(e,t,a){e.exports=a(15)},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(8),r=a.n(s),o=a(9),c=a(6),i=a(1),m=a(2),u=a(4),g=a(3),d=a(5),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).slotRender=function(e){var t=e.state,n=e.number;if("slotting"===t){if(null===a.state.clearIntervalCb){var s=setInterval((function(){a.setState({slot10:a.slotNumber(8),slot1:a.slotNumber(10)})}),50);a.setState({clearIntervalCb:s})}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card purple darken-1 col s2",style:{height:"200px",fontSize:"100pt",color:"#FFF"}},a.state.slot10),l.a.createElement("div",{className:"card purple darken-1 col s2",style:{height:"200px",fontSize:"100pt",color:"#FFF"}},a.state.slot1))}a.state.clearIntervalCb&&(clearInterval(a.state.clearIntervalCb),a.setState({clearIntervalCb:null}));var r=null===n?0:Math.floor((n+1)/10),o=null===n?0:(n+1)%10;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card purple darken-1 col s2",style:{height:"200px",fontSize:"100pt",color:"#FFF"}},r),l.a.createElement("div",{className:"card purple darken-1 col s2",style:{height:"200px",fontSize:"100pt",color:"#FFF"}},o))},a.render=function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s4"}),a.slotRender(a.props),l.a.createElement("div",{className:"col s4"}))},a.state={slot10:0,slot1:0,clearIntervalCb:null},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"slotNumber",value:function(e){return Math.floor(Math.random()*e)}}]),t}(l.a.Component),v=function(e,t,a,n){return e.filter((function(e){return e.index>=t&&e.index<a})).map((function(e){return e.open?l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light red",style:{fontSize:"24px"},key:e.index,onClick:n},e.index+1):l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light blue lighten-4",style:{fontSize:"24px",color:"#1e88e5"},key:e.index,onClick:n},e.index+1)}))},b=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s1"},l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light purple darken-1",style:{fontSize:"24px"}},"B")),l.a.createElement("div",{className:"col s11"},v(e.open,0,15,e.toggle))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s1"},l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light purple darken-1",style:{fontSize:"24px"}},"I")),l.a.createElement("div",{className:"col s11"},v(e.open,15,30,e.toggle))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s1"},l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light purple darken-1",style:{fontSize:"24px"}},"N")),l.a.createElement("div",{className:"col s11"},v(e.open,30,45,e.toggle))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s1"},l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light purple darken-1",style:{fontSize:"24px"}},"G")),l.a.createElement("div",{className:"col s11"},v(e.open,45,60,e.toggle))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s1"},l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light purple darken-1",style:{fontSize:"24px"}},"O")),l.a.createElement("div",{className:"col s11"},v(e.open,60,75,e.toggle))))},p={slotState:"done",number:null,bingoState:[],numberLog:[]},S="bingo-machine-da1-v0",h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(g.a)(t).call(this,e))).restoreLocalStorage=function(){var e=localStorage.getItem(S);e&&a.setState(Object(c.a)({},JSON.parse(e)))},a.saveLocalStorage=function(){setTimeout((function(){localStorage.setItem(S,JSON.stringify(a.state))}),5)},a.componentDidMount=function(){a.setInitState(),a.restoreLocalStorage()},a.setInitState=function(){for(var e=[],t=0;t<75;t++)e.push({open:!1,index:t});a.setState({bingoState:[].concat(e)})},a.clearState=function(){window.confirm("\u7d50\u679c\u3092\u5168\u3066\u6d88\u53bb\u3057\u3066\u3084\u308a\u76f4\u3057\u3066\u826f\u3044\u3067\u3059\u304b\uff1f")&&(a.setState(Object(c.a)({},p)),a.setInitState(),a.saveLocalStorage())},a.getOpenState=function(){return a.state.bingoState.filter((function(e){return e.open}))},a.getCloseState=function(){return a.state.bingoState.filter((function(e){return!e.open}))},a.clickHandler=function(){if("slotting"!==a.state.slotState){var e=a.getCloseState();if(0!==e.length){var t=new Audio;t.src="se_maoudamashii_instruments_drumroll.mp3",t.play(),a.setState({slotState:"slotting",number:null}),setTimeout((function(){var t=e[Math.floor(Math.random()*e.length)].index;console.log(t+1),a.setState({numberLog:[].concat(Object(o.a)(a.state.numberLog),[t])}),a.setState({slotState:"done",number:t}),a.setState({bingoState:a.state.bingoState.map((function(e){return null!==a.state.number&&a.state.number===e.index?{open:!0,index:e.index}:e}))}),a.saveLocalStorage()}),5500)}}},a.toggleState=function(e){var t=parseInt(e.target.textContent)-1;a.setState({bingoState:a.state.bingoState.map((function(e){return e.index===t?{open:!e.open,index:e.index}:e}))}),a.saveLocalStorage()},a.state=Object(c.a)({},p),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container center-align"},l.a.createElement(f,{state:this.state.slotState,number:this.state.number}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s4"}),l.a.createElement("div",{className:"col s4"},l.a.createElement("button",{className:"waves-effect waves-light red btn",style:{width:"100%"},onClick:this.clickHandler},"SPIN")),l.a.createElement("div",{className:"col s4"})),l.a.createElement(b,{open:this.state.bingoState,toggle:this.toggleState}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s5"}),l.a.createElement("div",{className:"col s2"},l.a.createElement("button",{className:"waves-effect waves-light blue lighten-5 btn",style:{width:"100%",color:"#1e88e5"},onClick:this.clearState},"RESET")),l.a.createElement("div",{className:"col s5"})))}}]),t}(l.a.Component);r.a.render(l.a.createElement(h,null),document.querySelector("#root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.7659da85.chunk.js.map